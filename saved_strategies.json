{
  "Crossover EMA + Var %": {
    "name": "Crossover EMA + Var %",
    "code": "//@version=5\nindicator(\"Cruzamento EMA + Variação % - By Gemini\", shorttitle=\"Crossover EMA + Var %\", overlay=true)\n\n// --- Entradas do Usuário ---\nshow_trade_labels = input.bool(true, title=\"Exibir Etiquetas de COMPRA/VENDA\")\n\n// --- Entradas e Cálculos das EMAs ---\nfast_length = 5\nslow_length = 200\nema_fast = ta.ema(close, fast_length)\nema_slow = ta.ema(close, slow_length)\n\n// --- Plotagem das EMAs ---\nplot(ema_fast, color=color.new(color.blue, 0), title=\"EMA 5\")\nplot(ema_slow, color=color.new(color.orange, 0), title=\"EMA 200\")\n\n// --- Condições de Cruzamento ---\nbuy_signal = ta.crossover(ema_fast, ema_slow)\nsell_signal = ta.crossunder(ema_fast, ema_slow)\n\n// --- Variáveis para rastrear estado, preços e localização no gráfico ---\nvar trade_direction = 0 // 0=neutro, 1=compra, -1=venda\nvar float entry_price = na\nvar float extreme_price = na\nvar int extreme_bar_index = na\n\n// --- Lógica para Calcular e Plotar a Variação ---\n\n// Ocorre um sinal de VENDA\nif sell_signal\n    if trade_direction == 1\n        variation_up = ((extreme_price - entry_price) / entry_price) * 100\n        label_text_up = \"Máx: +\" + str.tostring(variation_up, \"#.##\") + \"%\"\n        label.new(extreme_bar_index, extreme_price, label_text_up,\n                  color=color.new(color.teal, 40), textcolor=color.white,\n                  style=label.style_label_down)\n\n    trade_direction := -1\n    entry_price := close\n    extreme_price := low\n    extreme_bar_index := bar_index\n    if show_trade_labels\n        label.new(bar_index, high, \"VENDA\", color=color.new(color.red, 20), textcolor=color.white, style=label.style_label_down, yloc=yloc.abovebar)\n\n// Ocorre um sinal de COMPRA\nif buy_signal\n    if trade_direction == -1\n        variation_down = ((extreme_price - entry_price) / entry_price) * 100\n        label_text_down = \"Mín: \" + str.tostring(variation_down, \"#.##\") + \"%\"\n        label.new(extreme_bar_index, extreme_price, label_text_down,\n                  color=color.new(color.maroon, 40), textcolor=color.white,\n                  style=label.style_label_up)\n\n    trade_direction := 1\n    entry_price := close\n    extreme_price := high\n    extreme_bar_index := bar_index\n    if show_trade_labels\n        label.new(bar_index, low, \"COMPRA\", color=color.new(color.green, 20), textcolor=color.white, style=label.style_label_up, yloc=yloc.belowbar)\n\n// --- Rastreia os preços extremos entre os sinais ---\nif trade_direction == 1 and high > extreme_price\n    extreme_price := high\n    extreme_bar_index := bar_index\n\nif trade_direction == -1 and low < extreme_price\n    extreme_price := low\n    extreme_bar_index := bar_index\n\n// --- Alertas ---\n// NOVIDADE: Adiciona as condições de compra e venda aos alertas do TradingView\nalertcondition(buy_signal, title=\"Sinal de Compra\", message=\"Cruzamento de EMAs: Sinal de COMPRA no {{ticker}}\")\nalertcondition(sell_signal, title=\"Sinal de Venda\", message=\"Cruzamento de EMAs: Sinal de VENDA no {{ticker}}\")",
    "params": {},
    "created_at": "2026-01-04T11:52:16.503098",
    "updated_at": "2026-01-04T11:52:16.503106"
  },
  "Poseidon": {
    "name": "Poseidon",
    "code": "//@version=5\nindicator(\"Cruzamento EMA + Variação % - By Gemini\", shorttitle=\"Crossover EMA + Var %\", overlay=true)\n\n// --- Entradas do Usuário ---\nshow_trade_labels = input.bool(true, title=\"Exibir Etiquetas de COMPRA/VENDA\")\n\n// --- Entradas e Cálculos das EMAs ---\nfast_length = 5\nslow_length = 200\nema_fast = ta.ema(close, fast_length)\nema_slow = ta.ema(close, slow_length)\n\n// --- Plotagem das EMAs ---\nplot(ema_fast, color=color.new(color.blue, 0), title=\"EMA 5\")\nplot(ema_slow, color=color.new(color.orange, 0), title=\"EMA 200\")\n\n// --- Condições de Cruzamento ---\nbuy_signal = ta.crossover(ema_fast, ema_slow)\nsell_signal = ta.crossunder(ema_fast, ema_slow)\n\n// --- Variáveis para rastrear estado, preços e localização no gráfico ---\nvar trade_direction = 0 // 0=neutro, 1=compra, -1=venda\nvar float entry_price = na\nvar float extreme_price = na\nvar int extreme_bar_index = na\n\n// --- Lógica para Calcular e Plotar a Variação ---\n\n// Ocorre um sinal de VENDA\nif sell_signal\n    if trade_direction == 1\n        variation_up = ((extreme_price - entry_price) / entry_price) * 100\n        label_text_up = \"Máx: +\" + str.tostring(variation_up, \"#.##\") + \"%\"\n        label.new(extreme_bar_index, extreme_price, label_text_up,\n                  color=color.new(color.teal, 40), textcolor=color.white,\n                  style=label.style_label_down)\n\n    trade_direction := -1\n    entry_price := close\n    extreme_price := low\n    extreme_bar_index := bar_index\n    if show_trade_labels\n        label.new(bar_index, high, \"VENDA\", color=color.new(color.red, 20), textcolor=color.white, style=label.style_label_down, yloc=yloc.abovebar)\n\n// Ocorre um sinal de COMPRA\nif buy_signal\n    if trade_direction == -1\n        variation_down = ((extreme_price - entry_price) / entry_price) * 100\n        label_text_down = \"Mín: \" + str.tostring(variation_down, \"#.##\") + \"%\"\n        label.new(extreme_bar_index, extreme_price, label_text_down,\n                  color=color.new(color.maroon, 40), textcolor=color.white,\n                  style=label.style_label_up)\n\n    trade_direction := 1\n    entry_price := close\n    extreme_price := high\n    extreme_bar_index := bar_index\n    if show_trade_labels\n        label.new(bar_index, low, \"COMPRA\", color=color.new(color.green, 20), textcolor=color.white, style=label.style_label_up, yloc=yloc.belowbar)\n\n// --- Rastreia os preços extremos entre os sinais ---\nif trade_direction == 1 and high > extreme_price\n    extreme_price := high\n    extreme_bar_index := bar_index\n\nif trade_direction == -1 and low < extreme_price\n    extreme_price := low\n    extreme_bar_index := bar_index\n\n// --- Alertas ---\n// NOVIDADE: Adiciona as condições de compra e venda aos alertas do TradingView\nalertcondition(buy_signal, title=\"Sinal de Compra\", message=\"Cruzamento de EMAs: Sinal de COMPRA no {{ticker}}\")\nalertcondition(sell_signal, title=\"Sinal de Venda\", message=\"Cruzamento de EMAs: Sinal de VENDA no {{ticker}}\")",
    "params": {},
    "created_at": "2026-01-03T16:39:32.458296",
    "updated_at": "2026-01-03T16:39:32.458307"
  }
}